---
description: General rule
globs: 
alwaysApply: true
---
# AI Cursor Rules - IrrigationDesign

## üéØ Objectif
Ce document d√©finit les r√®gles et exigences pour l'AI Cursor dans le configurateur d'irrigation, combinant les besoins m√©tier et l'exp√©rience utilisateur.

## üìã Structure du Projet

### 1. Gestion des Plans et Acc√®s üóÇÔ∏è

#### 1.1 Hi√©rarchie des Acc√®s
- **Admin (Usine)**
  - Acc√®s complet √† toutes les fonctionnalit√©s
  - Gestion des concessionnaires et clients
  - Visualisation et modification de tous les plans
- **Concessionnaire**
  - Gestion de ses clients
  - Acc√®s aux plans de ses clients
  - Cr√©ation de plans pour ses clients
- **Client**
  - Acc√®s √† ses propres plans
  - Cr√©ation de plans sous sa concession

#### 1.2 Organisation des Plans
- **Plans Clients**
  - Vue pour les plans clients
  - Informations d√©taill√©es (client, concession)
  - Contr√¥les d'acc√®s bas√©s sur les r√¥les

### 2. Interface de Dessin et Manipulation üé®

#### 2.1 Outils de Base
- **Formes G√©om√©triques**
  - Rectangle
  - Cercle
  - Demi-cercle
  - Ligne
  - Texte
  
- **Propri√©t√©s Modifiables**
  - Dimensions
  - Position
  - Rotation
  - Style (couleur, √©paisseur)

#### 2.2 Interactions Avanc√©es
- **Connexions**
  - Liaison entre formes
  - Validation visuelle des connexions
  - Points d'ancrage intelligents
- **Mesures**
  - Affichage en temps r√©el
  - Calcul automatique des surfaces
  - Unit√©s configurables

### 3. Intelligence Artificielle et Assistance ü§ñ

#### 3.1 Suggestions Contextuelles
- **Optimisation de Plan**
  - Propositions bas√©es sur l'usage
  - Ajustements automatiques
  - Validation utilisateur requise
- **Aide √† la D√©cision**
  - Recommandations de formes
  - Alertes d'incompatibilit√©
  - Guide de bonnes pratiques

#### 3.2 Automatisation
- **Auto-sauvegarde**
  - Intervalle de 30 secondes
  - Gestion des versions
  - Restauration possible
- **G√©n√©ration de Documents**
  - Export PDF automatique
  - Synth√®se des mesures

### 4. Exp√©rience Utilisateur üéØ

#### 4.1 Feedback Visuel
- **√âtats et Actions**
  - Couleurs distinctives par √©tat
  - Animations de transition
  - Ic√¥nes intuitives
- **Messages et Alertes**
  - Confirmations d'action
  - Messages d'erreur explicites
  - Aide contextuelle

#### 4.2 Navigation et Contr√¥les
- **Raccourcis Clavier**
  - Actions fr√©quentes
  - Manipulation rapide
  - Personnalisation possible
- **Gestes Souris**
  - S√©lection multiple
  - Drag & drop
  - Zoom et pan

### 5. Donn√©es et Int√©gration üìä

#### 5.1 Gestion des Donn√©es
- **Structure**
  - Plans
  - √âl√©ments
  - Historique
  - Pr√©f√©rences
- **Synchronisation**
  - Temps r√©el
  - Gestion des conflits
  - Backup automatique

#### 5.2 Int√©gration Externe
- **Profil Altim√©trique**
  - Import de donn√©es g√©ographiques
  - Visualisation 3D
  - Ajustements automatiques

## üîÑ Cycle de Vie

### 1. Cr√©ation de Plan
1. S√©lection des utilisateurs associ√©s
2. Configuration initiale
3. Choix du client/concession
4. Validation des acc√®s

### 2. √âdition
1. Chargement des √©l√©ments
2. Manipulation des formes
3. Gestion des connexions
4. Sauvegarde automatique

### 3. Validation
1. V√©rification des r√®gles m√©tier
2. Calculs automatiques
3. G√©n√©ration des documents
4. Approbation finale

## üìù Notes Techniques

### Impl√©mentation
- Framework Vue.js avec TypeScript
- Composants r√©utilisables
- Store Pinia pour la gestion d'√©tat
- API REST pour la communication

### Performance
- Optimisation du rendu
- Gestion de la m√©moire
- Cache intelligent
- Lazy loading

## üîí S√©curit√©

### Authentification
- Gestion des tokens
- Refresh automatique
- D√©connexion s√©curis√©e

### Autorisation
- Contr√¥le granulaire des acc√®s
- Validation c√¥t√© serveur
- Audit des actions

---

Ce document est vivant et sera mis √† jour r√©guli√®rement pour refl√©ter les √©volutions du projet. Tu l'√©diteras au besoin.